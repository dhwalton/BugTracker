@using BugTracker.Models;
@model Tickets


@*@foreach (var user in Model.Users)
    {
        <div class="user-search">

            @Html.ActionLink("Add", "AddUserToProject", new {ProjectId = Model.ProjectId, UserId = user.Id }, new { @class="addToProject" })
            @user.FirstName @user.LastName | @user.Displayname | @user.Email
        </div>
    }*@
@if (Model.AssignedUser == null)
{
    <h4>Assign a user to this ticket</h4>
    <table class="user-list">
        <tr><th>Name</th><th>Display Name</th><th>Email</th><th>Remove</th></tr>
        @foreach (var user in Model.Project.Users)
        {
            <tr>
                <td>@user.FirstName @user.LastName</td>
                <td>@user.Displayname</td>
                <td>@user.Email</td>
                <td>@Html.ActionLink("Assign", "AssignUserToTicket", new { TicketId = Model.Id, UserId = @user.Id })</td>
            </tr>
        }
    </table>
}
else
{
    @Html.LabelFor(model => model.AssignedUserId, "Assigned User", htmlAttributes: new { @class = "control-label col-md-2" })
    <div class="col-md-10">
        @Html.Label(Model.AssignedUser.Displayname, htmlAttributes: new { @class = "control-label" })
        @Html.ActionLink(" X", "RemoveAssignedUserFromTicket", new { ticketId = Model.Id })
    </div>
}




