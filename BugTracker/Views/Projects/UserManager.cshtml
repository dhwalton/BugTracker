@using BugTracker.Models;
@model UsersAndRolesModel

<table id="user-list">
    <tr><th>Email</th><th>First Name</th><th>Last Name</th><th>Display Name</th><th>Roles</th></tr>
    @foreach (var item in Model.Users)
    {
        <tr>
            <td>@item.Email</td>
            <td>@item.FirstName</td>
            <td>@item.LastName</td>
            <td>@item.Displayname</td>
            <td>
                @using (Html.BeginForm())
                {
                    @Html.AntiForgeryToken();
                    @Html.HiddenFor(modelItem => item.Id)
                    foreach (var role in Model.Roles)
                    {
                        @role.Name <input type="checkbox" name="@role.Name"  />
                    }
                }
            </td>
       </tr>
    }
</table>